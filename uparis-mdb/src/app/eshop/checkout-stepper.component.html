<div class="z-depth-1 py-5 mb-5 px-5 row">
    <div class="col-12 col-md-3 text-center text-md-left">{{_trip.nameProduct}}</div>
    <div class="col-12 col-md-3 text-center text-md-left">{{_trip.dateStart}}
        <ng-container *ngIf="_trip.dateEnd != _trip.dateStart"> ~ {{_trip.dateEnd}}</ng-container>
    </div>
    <div class="col-12 col-md-6 text-center text-md-right">
        <uparis-number-picker [initValue]="_number" [min]="1" [max]="_trip.stock"
                              (onChange)="number=$event"
        ></uparis-number-picker>
    </div>
</div>
<mat-horizontal-stepper [linear]="true" #stepper>
    <mat-step [stepControl]="_listCheckoutForm">
        <ng-template matStepLabel>报名信息</ng-template>
        <div class="row">
            <form *ngFor="let checkoutForm of _listCheckoutForm.controls; let index=index;"
                  [formGroup]="checkoutForm"
                  class="col-12 col-md-6 col-lg-4 card">
                <div class="card-body text-left">
                    <uparis-option-selector
                        [mappedListOption]="_trip.mappedListOption"
                        [optionForm]="checkoutForm.get('option')">
                    </uparis-option-selector>
                    <hr>
                    <uparis-person-form [personForm]="checkoutForm.get('participant')"></uparis-person-form>
                </div>
            </form>
        </div>
        <button mat-button matStepperNext color="primary" (click)="createNewOrder($event)">下一步</button>
    </mat-step>
    <mat-step>
        <ng-template matStepLabel>付款信息</ng-template>
        <div class="row">
            <uparis-person-card
                *ngFor="let order of _listOrder"
                class="col-12 col-md-6 col-xl-4"
                [person]="order.participant"
                [listOption]="order.listOption"
            ></uparis-person-card>
        </div>

        <div>
            <button mat-button matStepperPrevious color="accent">上一步</button>
        </div>
    </mat-step>
</mat-horizontal-stepper>
